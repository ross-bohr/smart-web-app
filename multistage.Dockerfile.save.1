FROM mcr.microsoft.com/dotnet/sdk:8.0-alpine AS base
WORKDIR src
COPY source .
#RUN ls
RUN dotnet build -o /outpu

FROM mcr.microsoft.com/dotnet/aspnet:8.0-alpine
RUN addgroup -S rossgrp && adduser -S ross -G rossgrp
USER ross
WORKDIR app
COPY --from=base /output .
EXPOSE 8080
ENTRYPOINT ["dotnet", "app1.dll"]
